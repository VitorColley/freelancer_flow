<div class="card shadow-sm h-100">
  <div class="card-body d-flex flex-column">
    <h5 class="card-title">
      Proposal for
      <%= link_to proposal.project.title,
                  project_path(proposal.project),
                  class: "text-decoration-none" rescue "Project" %>
    </h5>

    <p class="text-muted small mb-2">
      Submitted <%= time_ago_in_words(proposal.created_at) %> ago
    </p>

    <p class="card-text flex-grow-1">
      <%= truncate(proposal.message, length: 120) %>
    </p>

    <div class="d-flex justify-content-between align-items-center mt-3">
      <%= link_to "View",
                  proposal_path(proposal),
                  class: "btn btn-outline-primary btn-sm" %>

      <% if proposal.respond_to?(:status) %>
        <span class="badge bg-secondary">
          <%= proposal.status %>
        </span>
      <% end %>
    </div>
  </div>
</div>
